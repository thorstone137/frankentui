%% fixture_id: c4_container_stress
%% purpose: stress test with many containers and boundaries
C4Container
  title Container Diagram - E-commerce Platform
  Person(user, "Customer")
  System_Boundary(platform, "E-commerce Platform") {
    Container(spa, "SPA", "React", "Single page app")
    Container(api, "API Gateway", "Kong", "Routes requests")
    Container(user_svc, "User Service", "Go", "User management")
    Container(order_svc, "Order Service", "Java", "Order processing")
    Container(product_svc, "Product Service", "Rust", "Product catalog")
    Container(search_svc, "Search Service", "Python", "Full-text search")
    Container(notify_svc, "Notification", "Node.js", "Sends notifications")
    ContainerDb(user_db, "User DB", "PostgreSQL", "User data")
    ContainerDb(order_db, "Order DB", "PostgreSQL", "Order data")
    ContainerDb(product_db, "Product DB", "MongoDB", "Product catalog")
    ContainerDb(search_idx, "Search Index", "Elasticsearch", "Search index")
    ContainerDb(cache, "Cache", "Redis", "Session/product cache")
    Container(queue, "Message Queue", "RabbitMQ", "Async messaging")
  }
  Rel(user, spa, "Uses")
  Rel(spa, api, "Calls")
  Rel(api, user_svc, "Routes")
  Rel(api, order_svc, "Routes")
  Rel(api, product_svc, "Routes")
  Rel(api, search_svc, "Routes")
  Rel(user_svc, user_db, "R/W")
  Rel(order_svc, order_db, "R/W")
  Rel(product_svc, product_db, "R/W")
  Rel(search_svc, search_idx, "Queries")
  Rel(product_svc, cache, "Caches")
  Rel(order_svc, queue, "Publishes")
  Rel(notify_svc, queue, "Subscribes")
