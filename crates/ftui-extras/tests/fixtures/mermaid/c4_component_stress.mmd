%% fixture_id: c4_component_stress
%% purpose: stress test with many components and relationships
C4Component
  title Component Diagram - Order Service
  Container_Boundary(order_svc, "Order Service") {
    Component(rest, "REST Controller", "Spring MVC", "Handles HTTP")
    Component(grpc, "gRPC Handler", "gRPC", "Internal calls")
    Component(validator, "Validator", "Bean Validation", "Input validation")
    Component(order_mgr, "Order Manager", "Spring", "Order lifecycle")
    Component(pricing, "Pricing Engine", "Custom", "Calculates prices")
    Component(inventory, "Inventory Check", "Custom", "Stock verification")
    Component(payment, "Payment Adapter", "Custom", "Payment integration")
    Component(event_pub, "Event Publisher", "Spring Events", "Domain events")
    Component(repo, "Order Repository", "JPA", "Data access")
    Component(mapper, "DTO Mapper", "MapStruct", "Object mapping")
  }
  Rel(rest, validator, "Validates")
  Rel(rest, mapper, "Maps DTOs")
  Rel(grpc, validator, "Validates")
  Rel(validator, order_mgr, "Delegates")
  Rel(order_mgr, pricing, "Calculates")
  Rel(order_mgr, inventory, "Checks")
  Rel(order_mgr, payment, "Charges")
  Rel(order_mgr, event_pub, "Publishes")
  Rel(order_mgr, repo, "Persists")
  Rel(mapper, repo, "Maps entities")
